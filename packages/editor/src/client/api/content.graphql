query ContentList(
  $type: contentTypeEnum!
  $context: contentContextEnum
  $filter: String
  $after: ID
  $before: ID
  $first: Int
  $last: Int
  $skip: Int
  $order: SortOrder
  $sort: ContentSort
) {
  content {
    _all {
      list(
        type: $type
        context: $context
        filter: {title: $filter}
        after: $after
        before: $before
        first: $first
        last: $last
        skip: $skip
        order: $order
        sort: $sort
      ) {
        nodes {
          peer {
            id
            name
          }
          content {
            ...ContentListRef
          }
        }
        pageInfo {
          startCursor
          endCursor
          hasNextPage
          hasPreviousPage
        }
        totalCount
      }
    }
  }
}

query ContentGet($id: ID!) {
  content {
    _all {
      read(id: $id) {
        ...ContentListRef
      }
    }
  }
}

fragment ContentListRef on ContentModelSummary {
  id
  title
  shared
  contentType
  createdAt
  modifiedAt
  publicationDate
  dePublicationDate
}

mutation PublishContent($id: ID!, $publicationDate: DateTime!, $dePublicationDate: DateTime) {
  content {
    _all {
      publish(id: $id, publicationDate: $publicationDate, dePublicationDate: $dePublicationDate) {
        id
      }
    }
  }
}

mutation UnpublishContent($id: ID!) {
  content {
    _all {
      unpublish(id: $id) {
        id
      }
    }
  }
}

mutation DeleteContent($id: ID!) {
  content {
    _all {
      delete(id: $id)
    }
  }
}

query PreviewContent {
  content {
    _all {
      previewToken
    }
  }
}
